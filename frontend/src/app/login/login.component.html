<main class="form-signin w-100 m-auto">
  <form #f="ngForm"
        (ngSubmit)="f.form.valid && onSubmit()"
        name="form"
        novalidate>
    <img alt="" class="mb-4" height="57" ngSrc="https://getbootstrap.com/docs/5.3/assets/brand/bootstrap-logo.svg"
         width="72">
    <h1 class="h3 mb-3 fw-normal">Please sign in</h1>

    <div class="form-floating">
      <input #username="ngModel" [(ngModel)]="form.username"
             [ngClass]="{ 'is-invalid': f.submitted && username.errors }" class="form-control"
             id="floatingInput"
             name="username"
             placeholder="user"
             required
             type="text">
      @if (username.errors && f.submitted) {
        <div class="invalid-feedback">Username is required!</div>
      }
      <label for="floatingInput">Username</label>
    </div>
    <!--    <div class="form-floating">-->
    <!--      <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">-->
    <!--      <label for="floatingInput">Email address</label>-->
    <!--    </div>-->
    <div class="form-floating">
      <input #password="ngModel" [(ngModel)]="form.password"
             [ngClass]="{ 'is-invalid': f.submitted && password.errors }" class="form-control"
             id="floatingPassword"
             minlength="6"
             name="password"
             placeholder="Password"
             required
             type="password">
      @if (password.errors && f.submitted) {
        <div class="invalid-feedback">
          @if (password.errors['required']) {
            <div>Password is required</div>
          }
          @if (password.errors['minlength']) {
            <div>Password must be at least 6 characters</div>
          }
        </div>
      }
      <label for="floatingPassword">Password</label>
    </div>
    <div class="form-floating">
      @if (f.submitted && isLoginFailed) {
        <div class="alert alert-danger" role="alert">
          Login failed: {{ errorMessage }}
        </div>
      }
    </div>

    <div class="form-check text-start my-3">
      <input class="form-check-input" id="flexCheckDefault" type="checkbox" value="remember-me">
      <label class="form-check-label" for="flexCheckDefault">
        Remember me
      </label>
    </div>
    <button class="btn btn-primary w-100 py-2" type="submit">Sign in</button>
    <p class="mt-5 mb-3 text-body-secondary">© 2017–2024</p>
  </form>
</main>
